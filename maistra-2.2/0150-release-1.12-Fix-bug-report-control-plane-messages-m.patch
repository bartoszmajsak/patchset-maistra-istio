From b19b21052b01e1b851e6cc3e978a841d308f2204 Mon Sep 17 00:00:00 2001
From: Xiaopeng Han <hanxiaop8@outlook.com>
Date: Sat, 4 Dec 2021 06:43:19 +0800
Subject: [release-1.12] Fix bug-report control plane messages may be omitted
 (#36338)

* fix message being omitted

* cherry pick
---
 istioctl/cmd/precheck.go      | 2 +-
 releasenotes/notes/36253.yaml | 6 ++++++
 2 files changed, 7 insertions(+), 1 deletion(-)
 create mode 100644 releasenotes/notes/36253.yaml

diff --git a/istioctl/cmd/precheck.go b/istioctl/cmd/precheck.go
index 19aec124ad..6359f3be47 100644
--- a/istioctl/cmd/precheck.go
+++ b/istioctl/cmd/precheck.go
@@ -137,7 +137,7 @@ func checkControlPlane(cli kube.ExtendedClient) (diag.Messages, error) {
 		return nil, err
 	}
 	if result.Messages != nil {
-		msgs = result.Messages
+		msgs = append(msgs, result.Messages...)
 	}
 
 	return msgs, nil
diff --git a/releasenotes/notes/36253.yaml b/releasenotes/notes/36253.yaml
new file mode 100644
index 0000000000..e864779d91
--- /dev/null
+++ b/releasenotes/notes/36253.yaml
@@ -0,0 +1,6 @@
+apiVersion: release-notes/v2
+kind: bug-fix
+area: istioctl
+releaseNotes:
+  - |
+    **Fixed** some control plane messages may be omitted in the bug-report.
-- 
2.35.3

