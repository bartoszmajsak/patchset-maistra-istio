From 5f5fd30162ea67e9019a0a19236a10218dc80328 Mon Sep 17 00:00:00 2001
From: John Howard <howardjohn@google.com>
Date: Thu, 4 Nov 2021 16:01:13 -0700
Subject: Fix echo dualstack (#35912)

To16 will work for ipv6
---
 pkg/test/echo/server/instance.go | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/pkg/test/echo/server/instance.go b/pkg/test/echo/server/instance.go
index 2657427ce4..b6d496c7bd 100644
--- a/pkg/test/echo/server/instance.go
+++ b/pkg/test/echo/server/instance.go
@@ -152,8 +152,7 @@ func getBindAddresses(ip string) []string {
 		}
 		if addr.To4() != nil {
 			v4 = true
-		}
-		if addr.To16() != nil {
+		} else {
 			v6 = true
 		}
 	}
-- 
2.35.3

