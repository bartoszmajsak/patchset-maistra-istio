From ba7a7795adc2bddc1d6989395fc9414db8142e15 Mon Sep 17 00:00:00 2001
From: Xiaopeng Han <hanxiaop8@outlook.com>
Date: Thu, 13 Jan 2022 11:04:41 +0800
Subject: remove timeout (#36814)

---
 tools/istio-iptables/pkg/log/nflog.go | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

diff --git a/tools/istio-iptables/pkg/log/nflog.go b/tools/istio-iptables/pkg/log/nflog.go
index 513c7ff937..6d0683b4ea 100644
--- a/tools/istio-iptables/pkg/log/nflog.go
+++ b/tools/istio-iptables/pkg/log/nflog.go
@@ -19,7 +19,6 @@
 	golog "log"
 	"net"
 	"os"
-	"time"
 
 	"github.com/florianl/go-nflog/v2"
 	"golang.org/x/net/ipv4"
@@ -46,10 +45,9 @@ func ReadNFLOGSocket(ctx context.Context) {
 	// We expect to read logs from rules like:
 	// `-j NFLOG --nflog-group 1337`
 	config := nflog.Config{
-		Group:       1337,
-		Copymode:    nflog.CopyPacket,
-		ReadTimeout: 10 * time.Millisecond,
-		Logger:      golog.New(os.Stdout, "nflog log", 0),
+		Group:    1337,
+		Copymode: nflog.CopyPacket,
+		Logger:   golog.New(os.Stdout, "nflog log", 0),
 	}
 
 	nf, err := nflog.Open(&config)
-- 
2.35.3

