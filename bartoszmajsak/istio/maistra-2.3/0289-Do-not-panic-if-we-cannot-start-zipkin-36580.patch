From d28c61ca365b3da8fa952c43f1ae84da4c3deb4c Mon Sep 17 00:00:00 2001
From: John Howard <howardjohn@google.com>
Date: Tue, 21 Dec 2021 09:02:00 -0800
Subject: Do not panic if we cannot start zipkin (#36580)

---
 pkg/test/framework/components/zipkin/kube.go | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/pkg/test/framework/components/zipkin/kube.go b/pkg/test/framework/components/zipkin/kube.go
index 2be3b804ec..8c2f198c15 100644
--- a/pkg/test/framework/components/zipkin/kube.go
+++ b/pkg/test/framework/components/zipkin/kube.go
@@ -261,7 +261,9 @@ func (c *kubeComponent) QueryTraces(limit int, spanName, annotationQuery string)
 
 // Close implements io.Closer.
 func (c *kubeComponent) Close() error {
-	c.forwarder.Close()
+	if c.forwarder != nil {
+		c.forwarder.Close()
+	}
 	return nil
 }
 
-- 
2.35.3

