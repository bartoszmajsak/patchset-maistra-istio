From 18035598c0f58fffcd669e3582dbd65e779f4707 Mon Sep 17 00:00:00 2001
From: LiuDui <liuduidui@beyondcent.com>
Date: Tue, 9 Nov 2021 15:45:06 +0800
Subject: Delete GetValidatingWebhooksWithRevision func (#35918)

---
 istioctl/pkg/tag/util.go | 12 ------------
 1 file changed, 12 deletions(-)

diff --git a/istioctl/pkg/tag/util.go b/istioctl/pkg/tag/util.go
index 28a3ff226e..c567fe2a70 100644
--- a/istioctl/pkg/tag/util.go
+++ b/istioctl/pkg/tag/util.go
@@ -61,18 +61,6 @@ func GetWebhooksWithRevision(ctx context.Context, client kubernetes.Interface, r
 	return webhooks.Items, nil
 }
 
-// GetValidatingWebhooksWithRevision returns validating webhooks tagged with istio.io/rev=<rev> and NOT TAGGED with istio.io/tag.
-// this retrieves the webhook created at revision installation rather than tags.
-func GetValidatingWebhooksWithRevision(ctx context.Context, client kubernetes.Interface, rev string) ([]admit_v1.ValidatingWebhookConfiguration, error) {
-	webhooks, err := client.AdmissionregistrationV1().ValidatingWebhookConfigurations().List(ctx, metav1.ListOptions{
-		LabelSelector: fmt.Sprintf("%s=%s,!%s", label.IoIstioRev.Name, rev, IstioTagLabel),
-	})
-	if err != nil {
-		return nil, err
-	}
-	return webhooks.Items, nil
-}
-
 // GetNamespacesWithTag retrieves all namespaces pointed at the given tag.
 func GetNamespacesWithTag(ctx context.Context, client kubernetes.Interface, tag string) ([]string, error) {
 	namespaces, err := client.CoreV1().Namespaces().List(ctx, metav1.ListOptions{
-- 
2.35.3

