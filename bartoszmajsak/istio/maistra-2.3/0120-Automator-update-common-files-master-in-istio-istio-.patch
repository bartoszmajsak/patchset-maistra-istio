From 120511f2f43262f0403dffe94623467083399509 Mon Sep 17 00:00:00 2001
From: Istio Automation <istio-testing-bot@google.com>
Date: Thu, 18 Nov 2021 08:28:05 -0800
Subject: Automator: update common-files@master in istio/istio@master (#36134)

---
 common/.commonfiles.sha            |  2 +-
 common/scripts/kind_provisioner.sh | 14 --------------
 2 files changed, 1 insertion(+), 15 deletions(-)

diff --git a/common/.commonfiles.sha b/common/.commonfiles.sha
index aec0735e03..b9e10c41df 100644
--- a/common/.commonfiles.sha
+++ b/common/.commonfiles.sha
@@ -1 +1 @@
-cbd84f619235f2c57b6773d99647b548cd0a614e
+57b10aa2ead35e135e5b5f6461575a9b44d4c249
diff --git a/common/scripts/kind_provisioner.sh b/common/scripts/kind_provisioner.sh
index f25679a485..60b720fad2 100644
--- a/common/scripts/kind_provisioner.sh
+++ b/common/scripts/kind_provisioner.sh
@@ -382,20 +382,6 @@ data:
       addresses: '"$RANGE" | kubectl apply --kubeconfig="$KUBECONFIG" -f -
 }
 
-function connect_metallb() {
-  REMOTE_NODE=$1
-  METALLB_KUBECONFIG=$2
-  METALLB_DOCKER_IP=$3
-
-  IP_REGEX='(([0-9]{1,3}\.?){4})'
-  LB_CONFIG="$(kubectl --kubeconfig="${METALLB_KUBECONFIG}" -n metallb-system get cm config -o jsonpath="{.data.config}")"
-  if [[ "$LB_CONFIG" =~ $IP_REGEX-$IP_REGEX ]]; then
-    while read -r lb_cidr; do
-      docker exec "${REMOTE_NODE}" ip route add "${lb_cidr}" via "${METALLB_DOCKER_IP}"
-    done < <(ips_to_cidrs "${BASH_REMATCH[1]}" "${BASH_REMATCH[3]}")
-  fi
-}
-
 function cidr_to_ips() {
     CIDR="$1"
     # cidr_to_ips returns a list of single IPs from a CIDR. We skip 1000 (since they are likely to be allocated
-- 
2.35.3

