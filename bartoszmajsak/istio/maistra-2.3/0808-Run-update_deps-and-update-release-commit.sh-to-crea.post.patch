From 4d866915c38662135946917d64f5f215e251b5e4 Mon Sep 17 00:00:00 2001
From: Eric Van Norman <ericvn@us.ibm.com>
Date: Tue, 15 Mar 2022 16:11:48 -0500
Subject: Run update_deps and update release-commit.sh to create rb license tar
 (#37949)

---
 go.mod                          |  8 ++++----
 go.sum                          | 17 ++++++++---------
 pilot/docker/Dockerfile.proxyv2 |  2 +-
 prow/release-commit.sh          |  5 ++++-
 4 files changed, 17 insertions(+), 15 deletions(-)

diff --git a/go.mod b/go.mod
index 32401dadfd..1ee498f66d 100644
--- a/go.mod
+++ b/go.mod
@@ -80,9 +80,9 @@ require (
 	gopkg.in/yaml.v2 v2.4.0
 	gopkg.in/yaml.v3 v3.0.0-20210107192922-496545a6307b
 	helm.sh/helm/v3 v3.8.0
-	istio.io/api v0.0.0-20220315175540-e5c6661929ff
-	istio.io/client-go v1.12.0-alpha.5.0.20220315025340-0250f00dfa77
-	istio.io/pkg v0.0.0-20220304033655-a60c3e9a3583
+	istio.io/api v0.0.0-20220315181440-7232408b169e
+	istio.io/client-go v1.12.0-alpha.5.0.20220315182240-71d655f27099
+	istio.io/pkg v0.0.0-20220315181640-73ba1fe2f13a
 	k8s.io/api v0.23.4
 	k8s.io/apiextensions-apiserver v0.23.1
 	k8s.io/apimachinery v0.23.4
@@ -233,7 +233,7 @@ require (
 	gopkg.in/inf.v0 v0.9.1 // indirect
 	gopkg.in/ini.v1 v1.66.2 // indirect
 	gopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7 // indirect
-	istio.io/gogo-genproto v0.0.0-20220304033656-4b95059fa87b // indirect
+	istio.io/gogo-genproto v0.0.0-20220314210524-818959c51ace // indirect
 	k8s.io/component-base v0.23.4 // indirect
 	sigs.k8s.io/json v0.0.0-20211020170558-c049b76a60c6 // indirect
 	sigs.k8s.io/kustomize/api v0.10.1 // indirect
diff --git a/go.sum b/go.sum
index 9e3d441ff1..acb7cb1ad7 100644
--- a/go.sum
+++ b/go.sum
@@ -2144,16 +2144,15 @@ honnef.co/go/tools v0.0.0-20190523083050-ea95bdfd59fc/go.mod h1:rf3lG4BRIbNafJWh
 honnef.co/go/tools v0.0.1-2019.2.3/go.mod h1:a3bituU0lyd329TUQxRnasdCoJDkEUEAqEt0JzvZhAg=
 honnef.co/go/tools v0.0.1-2020.1.3/go.mod h1:X/FiERA/W4tHapMX5mGpAtMSVEeEUOyHaw9vFzvIQ3k=
 honnef.co/go/tools v0.0.1-2020.1.4/go.mod h1:X/FiERA/W4tHapMX5mGpAtMSVEeEUOyHaw9vFzvIQ3k=
-istio.io/api v0.0.0-20220315024940-5bdbb63aa9c6/go.mod h1:8ZZgyVgYrHhsFQarEgTfPnMGpdgTDZbxSjYhdwTUuAQ=
-istio.io/api v0.0.0-20220315175540-e5c6661929ff h1:GJQ7sQqCqNl2WIOGk0RfYyL4J+DhSpxj52KX1uhyBnA=
-istio.io/api v0.0.0-20220315175540-e5c6661929ff/go.mod h1:8ZZgyVgYrHhsFQarEgTfPnMGpdgTDZbxSjYhdwTUuAQ=
-istio.io/client-go v1.12.0-alpha.5.0.20220315025340-0250f00dfa77 h1:zciOkWrProdJAUMHsQEARc3IdFjCjr/uBZ9vh+1RhA4=
-istio.io/client-go v1.12.0-alpha.5.0.20220315025340-0250f00dfa77/go.mod h1:S/ew3OBId15YIRrEdbIZPIiOCgGwbGwFPhfFGuw8sYA=
+istio.io/api v0.0.0-20220315181440-7232408b169e h1:2Lsnu8xYYh4fK6KsiNLwintf+dwuSLt2oP9OdopxIUQ=
+istio.io/api v0.0.0-20220315181440-7232408b169e/go.mod h1:8ZZgyVgYrHhsFQarEgTfPnMGpdgTDZbxSjYhdwTUuAQ=
+istio.io/client-go v1.12.0-alpha.5.0.20220315182240-71d655f27099 h1:eS8ajdzaft8AfsuOsL1FFTZEko8+JUONu2BQ22J8EsI=
+istio.io/client-go v1.12.0-alpha.5.0.20220315182240-71d655f27099/go.mod h1:2RsyzKPVKX+sr/6HycBrPdH5SIQYVHA8TiCZcB3hPA4=
 istio.io/gogo-genproto v0.0.0-20211208193508-5ab4acc9eb1e/go.mod h1:vJDAniIqryf/z///fgZqVPKJ7N2lBk7Gg8DCTB7oCfU=
-istio.io/gogo-genproto v0.0.0-20220304033656-4b95059fa87b h1:/lMFWYPSsKjwPffJhNqNRmybQTbinJk1fsAPNao8foQ=
-istio.io/gogo-genproto v0.0.0-20220304033656-4b95059fa87b/go.mod h1:vJDAniIqryf/z///fgZqVPKJ7N2lBk7Gg8DCTB7oCfU=
-istio.io/pkg v0.0.0-20220304033655-a60c3e9a3583 h1:zzhGU14FxJzLuh/z8srjjBqYX2l9wZKTSo45zuWCgHc=
-istio.io/pkg v0.0.0-20220304033655-a60c3e9a3583/go.mod h1:i95AmfHLCp5JThoiCGCyzZ6bOHJk5fD+BicBvGDr9Xg=
+istio.io/gogo-genproto v0.0.0-20220314210524-818959c51ace h1:ZOPnMxSjLNtAmRgov2NTrVOcX4yrdvp3IQx5aZ8aXDk=
+istio.io/gogo-genproto v0.0.0-20220314210524-818959c51ace/go.mod h1:vJDAniIqryf/z///fgZqVPKJ7N2lBk7Gg8DCTB7oCfU=
+istio.io/pkg v0.0.0-20220315181640-73ba1fe2f13a h1:Yd8+Xf6ru3cszMJ9h+6T24kM9C2t79qKqBAsPoc3n/0=
+istio.io/pkg v0.0.0-20220315181640-73ba1fe2f13a/go.mod h1:i95AmfHLCp5JThoiCGCyzZ6bOHJk5fD+BicBvGDr9Xg=
 k8s.io/api v0.18.2/go.mod h1:SJCWI7OLzhZSvbY7U8zwNl9UA4o1fizoug34OV/2r78=
 k8s.io/api v0.18.3/go.mod h1:UOaMwERbqJMfeeeHc8XJKawj4P9TgDRnViIqqBeH2QA=
 k8s.io/api v0.18.4/go.mod h1:lOIQAKYgai1+vz9J7YcDZwC26Z0zQewYOGWdyIPUUQ4=
diff --git a/pilot/docker/Dockerfile.proxyv2 b/pilot/docker/Dockerfile.proxyv2
index c63e39e684..5cf62458d0 100644
--- a/pilot/docker/Dockerfile.proxyv2
+++ b/pilot/docker/Dockerfile.proxyv2
@@ -32,7 +32,7 @@ COPY gcp_envoy_bootstrap.json /var/lib/istio/envoy/gcp_envoy_bootstrap_tmpl.json
 ARG TARGETARCH
 COPY ${TARGETARCH:-amd64}/${SIDECAR} /usr/local/bin/${SIDECAR}
 
-# Environment variable indicating the exact proxy sha - for debugging or version-specific configs 
+# Environment variable indicating the exact proxy sha - for debugging or version-specific configs
 ENV ISTIO_META_ISTIO_PROXY_SHA $proxy_version
 # Environment variable indicating the exact build, for debugging
 ENV ISTIO_META_ISTIO_VERSION $istio_version
diff --git a/prow/release-commit.sh b/prow/release-commit.sh
index 49cbdb28ab..e7fd8b81f1 100755
--- a/prow/release-commit.sh
+++ b/prow/release-commit.sh
@@ -32,7 +32,7 @@ DOCKER_HUB=${DOCKER_HUB:-gcr.io/istio-testing}
 GCS_BUCKET=${GCS_BUCKET:-istio-build/dev}
 
 # Use a pinned version in case breaking changes are needed
-BUILDER_SHA=601aab5c9e10c618362a80a14c521fbc1537c0db
+BUILDER_SHA=1c9e6f499bb4040efb907a40b4067ce956665653
 
 # Reference to the next minor version of Istio
 # This will create a version like 1.4-alpha.sha
@@ -75,6 +75,9 @@ ${DEPENDENCIES:-$(cat <<EOD
   tools:
     git: https://github.com/istio/tools
     branch: master
+  release-builder:
+    git: https://github.com/istio/release-builder
+    sha: ${BUILDER_SHA}
 EOD
 )}
 dashboards:
-- 
2.35.3

