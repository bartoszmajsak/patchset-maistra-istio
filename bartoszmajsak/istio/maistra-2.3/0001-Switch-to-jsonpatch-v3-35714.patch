From e925db15edd6d0ab4e6cdc711893e8323a89151e Mon Sep 17 00:00:00 2001
From: Faseela K <faseela.k@est.tech>
Date: Thu, 28 Oct 2021 21:47:30 +0200
Subject: Switch to jsonpatch/v3 (#35714)

Signed-off-by: Faseela K <faseela.k@est.tech>
---
 go.mod                                    | 1 -
 pilot/pkg/config/kube/crdclient/client.go | 2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

diff --git a/go.mod b/go.mod
index 3190e8f510..1788e1876d 100644
--- a/go.mod
+++ b/go.mod
@@ -81,7 +81,6 @@ require (
 	golang.org/x/sync v0.0.0-20210220032951-036812b2e83c
 	golang.org/x/sys v0.0.0-20211020174200-9d6173849985
 	golang.org/x/time v0.0.0-20210723032227-1f47c861a9ac
-	gomodules.xyz/jsonpatch/v2 v2.2.0
 	gomodules.xyz/jsonpatch/v3 v3.0.1
 	google.golang.org/api v0.59.0
 	google.golang.org/genproto v0.0.0-20211020151524-b7c3a969101a
diff --git a/pilot/pkg/config/kube/crdclient/client.go b/pilot/pkg/config/kube/crdclient/client.go
index 80a698b399..b752c67b53 100644
--- a/pilot/pkg/config/kube/crdclient/client.go
+++ b/pilot/pkg/config/kube/crdclient/client.go
@@ -32,7 +32,7 @@
 	jsonmerge "github.com/evanphx/json-patch/v5"
 	"github.com/hashicorp/go-multierror"
 	"go.uber.org/atomic"
-	"gomodules.xyz/jsonpatch/v2"
+	"gomodules.xyz/jsonpatch/v3"
 	crd "k8s.io/apiextensions-apiserver/pkg/apis/apiextensions/v1"
 	apiextensionsclient "k8s.io/apiextensions-apiserver/pkg/client/clientset/clientset"
 	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
-- 
2.35.3

