From 60be616b0596a3a70c4b30b7719792ebd7e44de1 Mon Sep 17 00:00:00 2001
From: John Howard <howardjohn@google.com>
Date: Wed, 1 Dec 2021 11:08:16 -0800
Subject: Remove dependency on k8s.io/kubernetes (#36200)

This is not actually used, just a 100 step removed indirect dependency
that upstreams are not accepting fixes to remove. So we can just
explicitly drop it.
---
 go.mod | 3 +++
 go.sum | 1 -
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/go.mod b/go.mod
index a458b56eff..62f2ebcd55 100644
--- a/go.mod
+++ b/go.mod
@@ -2,6 +2,9 @@ module istio.io/istio
 
 go 1.17
 
+// https://github.com/containerd/containerd/issues/5781
+exclude k8s.io/kubernetes v1.13.0
+
 replace github.com/spf13/viper => github.com/istio/viper v1.3.3-0.20190515210538-2789fed3109c
 
 // Old version had no license
diff --git a/go.sum b/go.sum
index d1b296438a..57e2dc87a9 100644
--- a/go.sum
+++ b/go.sum
@@ -2040,7 +2040,6 @@ k8s.io/kube-openapi v0.0.0-20211115234752-e816edb12b65/go.mod h1:sX9MT8g7NVZM5lV
 k8s.io/kubectl v0.22.1/go.mod h1:mjAOgEbMNMtZWxnfM6jd+nPjPsaoLqO5xanc78WcSbw=
 k8s.io/kubectl v0.22.4 h1:ECUO1QWyZ70DiIKEfgBx+8i9D98uspVOwgc1APs/07w=
 k8s.io/kubectl v0.22.4/go.mod h1:ok2qRT6y2Gy4+y+mniJVyUMKeBHP4OWS9Rdtf/QTM5I=
-k8s.io/kubernetes v1.13.0/go.mod h1:ocZa8+6APFNC2tX1DZASIbocyYT5jHzqFVsY5aoB7Jk=
 k8s.io/metrics v0.22.1/go.mod h1:i/ZNap89UkV1gLa26dn7fhKAdheJaKy+moOqJbiif7E=
 k8s.io/metrics v0.22.4/go.mod h1:6F/iwuYb1w2QDCoHkeMFLf4pwHBcYKLm4mPtVHKYrIw=
 k8s.io/utils v0.0.0-20200324210504-a9aa75ae1b89/go.mod h1:sZAwmy6armz5eXlNoLmJcl4F1QuKu7sr+mFQ0byX7Ew=
-- 
2.35.3

