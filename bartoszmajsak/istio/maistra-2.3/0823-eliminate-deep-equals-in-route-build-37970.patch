From 34197adf3502ce3209c2af3f804dc30ef2842594 Mon Sep 17 00:00:00 2001
From: Rama Chavali <rama.rao@salesforce.com>
Date: Wed, 16 Mar 2022 21:49:34 +0530
Subject: eliminate deep equals in route build (#37970)

Signed-off-by: Rama Chavali <rama.rao@salesforce.com>
---
 pilot/pkg/networking/core/v1alpha3/tls.go | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/pilot/pkg/networking/core/v1alpha3/tls.go b/pilot/pkg/networking/core/v1alpha3/tls.go
index 90561c9938..dbaa4a4784 100644
--- a/pilot/pkg/networking/core/v1alpha3/tls.go
+++ b/pilot/pkg/networking/core/v1alpha3/tls.go
@@ -15,7 +15,6 @@
 package v1alpha3
 
 import (
-	"reflect"
 	"sort"
 	"strings"
 
@@ -275,7 +274,7 @@ func buildSidecarOutboundTCPFilterChainOpts(node *model.Proxy, push *model.PushC
 				// and will reject the config.
 				sort.Strings(virtualServiceDestinationSubnets)
 				sort.Strings(destinationCIDRs)
-				if reflect.DeepEqual(virtualServiceDestinationSubnets, destinationCIDRs) {
+				if util.StringSliceEqual(virtualServiceDestinationSubnets, destinationCIDRs) {
 					log.Warnf("Existing filter chain with same matching CIDR: %v.", destinationCIDRs)
 					defaultRouteAdded = true
 				}
-- 
2.35.3

