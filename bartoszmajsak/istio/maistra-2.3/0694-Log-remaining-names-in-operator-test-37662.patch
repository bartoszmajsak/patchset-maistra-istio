From 629d084e09d48bc9538a12df3cdd615f764c031b Mon Sep 17 00:00:00 2001
From: John Howard <howardjohn@google.com>
Date: Wed, 2 Mar 2022 09:11:17 -0800
Subject: Log remaining names in operator test (#37662)

---
 tests/integration/operator/switch_cr_test.go | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/tests/integration/operator/switch_cr_test.go b/tests/integration/operator/switch_cr_test.go
index 89136e03c3..7783385877 100644
--- a/tests/integration/operator/switch_cr_test.go
+++ b/tests/integration/operator/switch_cr_test.go
@@ -269,7 +269,11 @@ func cleanupInClusterCRs(t framework.TestContext, cs cluster.Cluster) {
 		if len(podList.Items) == 0 {
 			return nil
 		}
-		return fmt.Errorf("pods still remain in %s", IstioNamespace)
+		names := []string{}
+		for _, i := range podList.Items {
+			names = append(names, i.Name)
+		}
+		return fmt.Errorf("pods still remain in %s: %v", IstioNamespace, names)
 	}, retry.Timeout(retryTimeOut), retry.Delay(retryDelay))
 
 	if err != nil {
-- 
2.35.3

