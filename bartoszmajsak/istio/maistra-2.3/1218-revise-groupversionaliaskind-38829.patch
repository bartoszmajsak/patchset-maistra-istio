From b9b2230a1bdae1b1845f9c07c0ad2fb6b8bf6114 Mon Sep 17 00:00:00 2001
From: Xiaopeng Han <hanxiaop8@outlook.com>
Date: Wed, 11 May 2022 04:53:16 +0800
Subject: revise groupversionaliaskind (#38829)

---
 pkg/config/schema/collection/schemas.go | 3 ---
 pkg/config/schema/resource/schema.go    | 1 +
 2 files changed, 1 insertion(+), 3 deletions(-)

diff --git a/pkg/config/schema/collection/schemas.go b/pkg/config/schema/collection/schemas.go
index 0a4ed1dd09..66e98d8a66 100644
--- a/pkg/config/schema/collection/schemas.go
+++ b/pkg/config/schema/collection/schemas.go
@@ -149,9 +149,6 @@ func (s Schemas) FindByGroupVersionKind(gvk config.GroupVersionKind) (Schema, bo
 // if not found, it will search for version aliases for the schema to see if there is a match.
 func (s Schemas) FindByGroupVersionAliasesKind(gvk config.GroupVersionKind) (Schema, bool) {
 	for _, rs := range s.byAddOrder {
-		if rs.Resource().GroupVersionKind() == gvk {
-			return rs, true
-		}
 		for _, va := range rs.Resource().GroupVersionAliasKinds() {
 			if va == gvk {
 				return rs, true
diff --git a/pkg/config/schema/resource/schema.go b/pkg/config/schema/resource/schema.go
index 7e030f8059..2a5fc10b66 100644
--- a/pkg/config/schema/resource/schema.go
+++ b/pkg/config/schema/resource/schema.go
@@ -231,6 +231,7 @@ func (s *schemaImpl) GroupVersionAliasKinds() []config.GroupVersionKind {
 		gvks[i] = s.gvk
 		gvks[i].Version = va
 	}
+	gvks = append(gvks, s.GroupVersionKind())
 	return gvks
 }
 
-- 
2.35.3

