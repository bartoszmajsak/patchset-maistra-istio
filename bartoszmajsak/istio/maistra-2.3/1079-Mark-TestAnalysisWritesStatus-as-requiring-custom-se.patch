From b0fb5b5b7bdde09163386d4e1df26752c1c28a56 Mon Sep 17 00:00:00 2001
From: Sam Naser <samnaser@google.com>
Date: Wed, 20 Apr 2022 09:42:08 -0700
Subject: Mark TestAnalysisWritesStatus as requiring custom setup (#38454)

---
 tests/integration/pilot/analysis/analysis_test.go | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/tests/integration/pilot/analysis/analysis_test.go b/tests/integration/pilot/analysis/analysis_test.go
index 604abf0167..b49b5568bc 100644
--- a/tests/integration/pilot/analysis/analysis_test.go
+++ b/tests/integration/pilot/analysis/analysis_test.go
@@ -32,6 +32,7 @@
 	"istio.io/istio/pkg/test/framework"
 	"istio.io/istio/pkg/test/framework/components/namespace"
 	"istio.io/istio/pkg/test/framework/features"
+	"istio.io/istio/pkg/test/framework/label"
 	"istio.io/istio/pkg/test/util/retry"
 )
 
@@ -47,6 +48,7 @@ func TestAnalysisWritesStatus(t *testing.T) {
 		// TODO: make feature labels heirarchical constants like:
 		// Label(features.Usability.Observability.Status).
 		RequiresLocalControlPlane().
+		Label(label.CustomSetup).
 		Run(func(t framework.TestContext) {
 			ns := namespace.NewOrFail(t, t, namespace.Config{
 				Prefix:   "default",
-- 
2.35.3

