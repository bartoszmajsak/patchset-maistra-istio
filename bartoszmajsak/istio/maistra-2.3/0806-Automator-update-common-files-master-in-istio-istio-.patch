From 7dc0490231846f4a87f71568a719a04e12643017 Mon Sep 17 00:00:00 2001
From: Istio Automation <istio-testing-bot@google.com>
Date: Tue, 15 Mar 2022 12:15:41 -0700
Subject: Automator: update common-files@master in istio/istio@master (#37940)

---
 common/.commonfiles.sha   | 2 +-
 common/Makefile.common.mk | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/common/.commonfiles.sha b/common/.commonfiles.sha
index d145f1f133..fe930ba58e 100644
--- a/common/.commonfiles.sha
+++ b/common/.commonfiles.sha
@@ -1 +1 @@
-ad6cf734e1e73570dac9c4f6d08fa25bfa5f372e
+5c76a10359178e3038d7dd580e90127c285565a8
diff --git a/common/Makefile.common.mk b/common/Makefile.common.mk
index 7816c58d44..2fcf92b7e0 100644
--- a/common/Makefile.common.mk
+++ b/common/Makefile.common.mk
@@ -69,13 +69,13 @@ lint-licenses:
 lint-all: lint-dockerfiles lint-scripts lint-yaml lint-helm lint-copyright-banner lint-go lint-python lint-markdown lint-sass lint-typescript lint-protos lint-licenses
 
 tidy-go:
-	@go mod tidy
+	@find -name go.mod -execdir go mod tidy \;
 
 mod-download-go:
-	@-GOFLAGS="-mod=readonly" go mod download
+	@-GOFLAGS="-mod=readonly" find -name go.mod -execdir go mod download \;
 # go mod tidy is needed with Golang 1.16+ as go mod download affects go.sum
 # https://github.com/golang/go/issues/43994
-	@go mod tidy
+	@find -name go.mod -execdir go mod tidy \;
 
 format-go: tidy-go
 	@${FINDFILES} -name '*.go' \( ! \( -name '*.gen.go' -o -name '*.pb.go' \) \) -print0 | ${XARGS} common/scripts/format_go.sh
-- 
2.35.3

