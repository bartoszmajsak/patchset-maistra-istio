From ab5345578cefe23814084ede9877cfd73a6dfbc8 Mon Sep 17 00:00:00 2001
From: John Howard <howardjohn@google.com>
Date: Tue, 12 Apr 2022 13:12:40 -0700
Subject: Re-enable Gateway conformance tests (#38331)

---
 go.mod                                              | 2 +-
 go.sum                                              | 4 ++--
 tests/integration/pilot/gateway_conformance_test.go | 2 --
 3 files changed, 3 insertions(+), 5 deletions(-)

diff --git a/go.mod b/go.mod
index 14a9256dfd..f460ad390e 100644
--- a/go.mod
+++ b/go.mod
@@ -97,7 +97,7 @@ require (
 	k8s.io/kubectl v0.23.5
 	k8s.io/utils v0.0.0-20220210201930-3a6ce19ff2f9
 	sigs.k8s.io/controller-runtime v0.11.2
-	sigs.k8s.io/gateway-api v0.4.1-0.20220325202559-704c253f29c1
+	sigs.k8s.io/gateway-api v0.4.1-0.20220411164207-d6bbc338d351
 	sigs.k8s.io/mcs-api v0.1.0
 	sigs.k8s.io/yaml v1.3.0
 )
diff --git a/go.sum b/go.sum
index 6d66015c41..16dd9352d2 100644
--- a/go.sum
+++ b/go.sum
@@ -3023,8 +3023,8 @@ sigs.k8s.io/controller-runtime v0.11.2 h1:H5GTxQl0Mc9UjRJhORusqfJCIjBO8UtUxGggCw
 sigs.k8s.io/controller-runtime v0.11.2/go.mod h1:P6QCzrEjLaZGqHsfd+os7JQ+WFZhvB8MRFsn4dWF7O4=
 sigs.k8s.io/controller-tools v0.3.0/go.mod h1:enhtKGfxZD1GFEoMgP8Fdbu+uKQ/cq1/WGJhdVChfvI=
 sigs.k8s.io/controller-tools v0.7.0/go.mod h1:bpBAo0VcSDDLuWt47evLhMLPxRPxMDInTEH/YbdeMK0=
-sigs.k8s.io/gateway-api v0.4.1-0.20220325202559-704c253f29c1 h1:1nUL3Q4y9bQun6Qex+yIAFBRTuZ9Vah1oY+QNoS2Xs4=
-sigs.k8s.io/gateway-api v0.4.1-0.20220325202559-704c253f29c1/go.mod h1:Gj2je/oOS/22fEU/U4xJ/nRH0wuQ3/kcfJUmLqtqXV4=
+sigs.k8s.io/gateway-api v0.4.1-0.20220411164207-d6bbc338d351 h1:4F7lwe6YevlYObT2HRPr1G4y63hb+NLyI2pxICJ3BoA=
+sigs.k8s.io/gateway-api v0.4.1-0.20220411164207-d6bbc338d351/go.mod h1:Gj2je/oOS/22fEU/U4xJ/nRH0wuQ3/kcfJUmLqtqXV4=
 sigs.k8s.io/json v0.0.0-20211020170558-c049b76a60c6 h1:fD1pz4yfdADVNfFmcP2aBEtudwUQ1AlLnRBALr33v3s=
 sigs.k8s.io/json v0.0.0-20211020170558-c049b76a60c6/go.mod h1:p4QtZmO4uMYipTQNzagwnNoseA6OxSUutVw05NhYDRs=
 sigs.k8s.io/kind v0.8.1/go.mod h1:oNKTxUVPYkV9lWzY6CVMNluVq8cBsyq+UgPJdvA3uu4=
diff --git a/tests/integration/pilot/gateway_conformance_test.go b/tests/integration/pilot/gateway_conformance_test.go
index d405ba7d60..d17bedecd0 100644
--- a/tests/integration/pilot/gateway_conformance_test.go
+++ b/tests/integration/pilot/gateway_conformance_test.go
@@ -63,8 +63,6 @@ func TestGatewayConformance(t *testing.T) {
 		RequiresSingleCluster().
 		Features("traffic.gateway").
 		Run(func(ctx framework.TestContext) {
-			// Flaky until this is merged
-			t.Skip("https://github.com/kubernetes-sigs/gateway-api/pull/1080")
 			if !supportsCRDv1(ctx) {
 				t.Skip("Not supported; requires CRDv1 support.")
 			}
-- 
2.35.3

